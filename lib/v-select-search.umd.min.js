(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["v-select-search"]=e():t["v-select-search"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({2350:function(t,e){function i(t,e){var i=t[1]||"",o=t[3];if(!o)return i;if(e&&"function"===typeof btoa){var r=s(o),n=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[i].concat(n).concat([r]).join("\n")}return[i].join("\n")}function s(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,"+e;return"/*# "+i+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var s=i(e,t);return e[2]?"@media "+e[2]+"{"+s+"}":s}).join("")},e.i=function(t,i){"string"===typeof t&&(t=[[null,t,""]]);for(var s={},o=0;o<this.length;o++){var r=this[o][0];"number"===typeof r&&(s[r]=!0)}for(o=0;o<t.length;o++){var n=t[o];"number"===typeof n[0]&&s[n[0]]||(i&&!n[2]?n[2]=i:i&&(n[2]="("+n[2]+") and ("+i+")"),e.push(n))}},e}},"2afd":function(t,e,i){var s=i("f724");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=i("499e").default;o("0b1f5f69",s,!0,{sourceMap:!1,shadowMode:!1})},"499e":function(t,e,i){"use strict";function s(t,e){for(var i=[],s={},o=0;o<e.length;o++){var r=e[o],n=r[0],a=r[1],l=r[2],c=r[3],h={id:t+":"+o,css:a,media:l,sourceMap:c};s[n]?s[n].parts.push(h):i.push(s[n]={id:n,parts:[h]})}return i}i.r(e),i.d(e,"default",function(){return f});var o="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},n=o&&(document.head||document.getElementsByTagName("head")[0]),a=null,l=0,c=!1,h=function(){},u=null,d="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,e,i,o){c=i,u=o||{};var n=s(t,e);return x(n),function(e){for(var i=[],o=0;o<n.length;o++){var a=n[o],l=r[a.id];l.refs--,i.push(l)}e?(n=s(t,e),x(n)):n=[];for(o=0;o<i.length;o++){l=i[o];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete r[l.id]}}}}function x(t){for(var e=0;e<t.length;e++){var i=t[e],s=r[i.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](i.parts[o]);for(;o<i.parts.length;o++)s.parts.push(b(i.parts[o]));s.parts.length>i.parts.length&&(s.parts.length=i.parts.length)}else{var n=[];for(o=0;o<i.parts.length;o++)n.push(b(i.parts[o]));r[i.id]={id:i.id,refs:1,parts:n}}}}function v(){var t=document.createElement("style");return t.type="text/css",n.appendChild(t),t}function b(t){var e,i,s=document.querySelector("style["+d+'~="'+t.id+'"]');if(s){if(c)return h;s.parentNode.removeChild(s)}if(p){var o=l++;s=a||(a=v()),e=m.bind(null,s,o,!1),i=m.bind(null,s,o,!0)}else s=v(),e=w.bind(null,s),i=function(){s.parentNode.removeChild(s)};return e(t),function(s){if(s){if(s.css===t.css&&s.media===t.media&&s.sourceMap===t.sourceMap)return;e(t=s)}else i()}}var g=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}();function m(t,e,i,s){var o=i?"":s.css;if(t.styleSheet)t.styleSheet.cssText=g(e,o);else{var r=document.createTextNode(o),n=t.childNodes;n[e]&&t.removeChild(n[e]),n.length?t.insertBefore(r,n[e]):t.appendChild(r)}}function w(t,e){var i=e.css,s=e.media,o=e.sourceMap;if(s&&t.setAttribute("media",s),u.ssrId&&t.setAttribute(d,e.id),o&&(i+="\n/*# sourceURL="+o.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}},"89fb":function(t,e,i){"use strict";var s=i("2afd"),o=i.n(s);o.a},9545:function(t,e,i){var s=i("9a42");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var o=i("499e").default;o("c1f33afc",s,!0,{sourceMap:!1,shadowMode:!1})},"9a42":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.input-search-box[data-v-36d156e6]{font-size:12px}.input-search-box[data-v-36d156e6] ::-webkit-input-placeholder{color:#c0c4cc}.input-search-box[data-v-36d156e6] :-moz-placeholder,.input-search-box[data-v-36d156e6] ::-moz-placeholder{color:#c0c4cc}.input-search-box[data-v-36d156e6] :-ms-input-placeholder{color:#c0c4cc}.input-search-box .fade-enter-active[data-v-36d156e6],.input-search-box .fade-leave-active[data-v-36d156e6]{-webkit-transition:all .5s;transition:all .5s}.input-search-box .fade-enter[data-v-36d156e6],.input-search-box .fade-leave-active[data-v-36d156e6]{opacity:0}.input-search-box .search-box[data-v-36d156e6]{height:35px;border:1px solid #dcdfe6;border-radius:3px;background:#fff;line-height:35px;padding:0 10px 0 15px;position:relative;text-align:left}.input-search-box .search-box[data-v-36d156e6]:hover{border:1px solid #c0c4cc;cursor:pointer}.input-search-box .search-box span[data-v-36d156e6]{width:calc(100% - 15px);display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;float:left}.input-search-box .search-box i[data-v-36d156e6]{width:0;height:0;border:6px solid transparent;position:relative;display:block;float:right}.input-search-box .search-box i[data-v-36d156e6]:before{content:"";position:absolute;width:0;height:0;border:4px solid transparent}.input-search-box .search-box .icon[data-v-36d156e6]{border-color:#ccc transparent transparent transparent;margin:15px 0 0 0}.input-search-box .search-box .icon[data-v-36d156e6]:before{border-color:#fff transparent transparent transparent;top:-6px;left:-4px}.input-search-box .search-box .iconActive[data-v-36d156e6]{border-color:transparent transparent #ccc transparent;margin:8px 0 0 0}.input-search-box .search-box .iconActive[data-v-36d156e6]:before{border-color:transparent transparent #fff transparent;top:-2px;left:-4px}.input-search-box .input-box[data-v-36d156e6]{background:#fff;border:1px solid #c0c4cc;border-radius:3px;position:absolute;padding:10px;overflow:hidden;z-index:99999999}.input-search-box .input-box .data-list-box[data-v-36d156e6]{border:1px solid #c0c4cc;border-radius:4px;width:100%;margin:0 auto;overflow:hidden;position:relative}.input-search-box .input-box .data-list-box .ul-box[data-v-36d156e6]{text-align:left;margin:0;padding:0;overflow:hidden;position:absolute;top:0;left:0}.input-search-box .input-box .data-list-box .scroll-box[data-v-36d156e6]{width:6px;overflow:hidden;position:absolute;top:0;right:0;z-index:6}.input-search-box .input-box .data-list-box .tiptxt[data-v-36d156e6]{color:#c0c4cc;text-align:center;height:160px;line-height:35px}.input-search-box .inputStyle[data-v-36d156e6]{width:100%;height:35px;border:1px solid #409eff;border-radius:4px;margin:0 0 5px 0}.input-search-box .inputStyle input[type=input][data-v-36d156e6]{font-size:12px;width:96%;outline:none;border:0;height:33px;line-height:33px;margin:0 auto;display:block;padding:0 5px;-webkit-box-sizing:border-box;box-sizing:border-box}',""])},c1c2:function(t,e,i){"use strict";var s=i("9545"),o=i.n(s);o.a},f724:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".ct-option-li-active[data-v-1e6d2504]{background:#e4e4e4}.ct-option-li[data-v-1e6d2504]{height:32px;line-height:32px;cursor:pointer;padding:0 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}",""])},fb15:function(t,e,i){"use strict";var s;(i.r(e),"undefined"!==typeof window)&&((s=window.document.currentScript)&&(s=s.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(i.p=s[1]));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input-search-box",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[i("div",{ref:"searchbox",staticClass:"search-box",style:{width:t.width+"px"},on:{click:function(e){t.show=!t.show,t.textValue=""}}},[i("span",{style:{color:t.title?"#606266":"#C0C4CC"}},[t._v(t._s(t.title||t.placeholder))]),i("i",{class:[{icon:!t.show},{iconActive:t.show}]})]),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"inputbox",staticClass:"input-box",style:{width:t.width+5+"px"}},[t.visibleInput?i("div",{staticClass:"inputStyle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.textValue,expression:"textValue"}],ref:"inputblur",attrs:{spellcheck:"false",type:"input",placeholder:"请输入搜索内容"},domProps:{value:t.textValue},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.searchBtn(e):null},focus:function(e){t.isFlag=!1},input:function(e){e.target.composing||(t.textValue=e.target.value)}}})]):t._e(),i("div",{staticClass:"data-list-box",style:{height:(t.data.length>10?t.scrollHeight:t.data.length<2?160:t.data.length*t.hLi)+"px"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.data.length,expression:"data.length"}],staticClass:"data-scroll"},[i("ul",{ref:"ulbox",staticClass:"ul-box",style:{height:t.data.length*t.hLi+"px",width:t.width+"px"},on:{mouseleave:t.leaveUl}},[t._t("default")],2),t.data.length>10?i("div",{staticClass:"scroll-box",style:{height:(t.data.length>10?t.scrollHeight:t.data.length*t.hLi)+"px"}},[i("scroll-into-view",{ref:"scrollInto"})],1):t._e()]),t.data.length?t._e():i("div",{staticClass:"tiptxt"},[t._v("暂无数据")])])])])],1)},r=[],n={data(){return{el:"",ulbox:"",timer:null,isShow:0,li_scrollH:32,minHeight:10}},render(t){const e=t("div",{ref:"scroll",class:"scroll",style:{width:"60%",background:"#ccc",borderRadius:"4px",position:"absolute",left:"20%",opacity:this.isShow,transition:"opacity 0.8s ease-out","-moz-transition":"opacity 0.8s ease-out","-webkit-transition":"opacity 0.8s ease-out","-o-transition":"opacity 0.8s ease-out"},on:{mousedown:t=>{let e,i=t||window.event;i.preventDefault?i.preventDefault():i.returnValue=!1,e=t.clientY-this.el.offsetTop,document.onmousemove=(t=>{clearTimeout(this.timer),this.isShow=1;let i=t||window.event,s=i.clientY-e;s<=0&&(s=0),s>=this.$parent.scrollHeight-this.el.scrollHeight&&(s=this.$parent.scrollHeight-this.el.scrollHeight);let o=s/(this.$parent.scrollHeight-this.el.scrollHeight),r=o*(this.ulbox.clientHeight-this.$parent.scrollHeight);this.el.style.top=s+"px",this.ulbox.style.top=-r+"px"}),document.onmouseup=(t=>{this.isShow=0,document.onmousemove=null,document.onmouseup=null})}}},this.$slots.default);return e},mounted(){this.el=this.$refs.scroll,this.ulbox=this.$parent.$refs.ulbox;let t=window.navigator.userAgent.toLowerCase();-1!=t.indexOf("firefox")?this.ulbox.addEventListener("DOMMouseScroll",t=>{t.preventDefault();let e=0;e=t.detail<0?this.ulbox.offsetTop+this.li_scrollH:this.ulbox.offsetTop-this.li_scrollH,this.directionFn(e)},!1):this.ulbox.onmousewheel=(t=>{let e=t||window.event,i=0;e.preventDefault?e.preventDefault():e.returnValue=!1,i=e.wheelDelta>0?this.ulbox.offsetTop+this.li_scrollH:this.ulbox.offsetTop-this.li_scrollH,this.directionFn(i)})},methods:{directionFn(t){clearTimeout(this.timer),this.isShow=1,t>=0&&(t=0),t<=-(this.ulbox.clientHeight-this.$parent.scrollHeight)&&(t=-(this.ulbox.clientHeight-this.$parent.scrollHeight));let e=t/(this.ulbox.clientHeight-this.$parent.scrollHeight),i=e*(this.$parent.scrollHeight-this.el.clientHeight),s=this.$parent.scrollHeight-.5*(this.ulbox.clientHeight-this.$parent.scrollHeight);this.el.style.height=(s<=0?this.minHeight:s)+"px",this.ulbox.style.top=t+"px",this.el.style.top=-i+"px",this.timer=setTimeout(t=>{this.isShow=0},1e3)}}},a={name:"ct-select",components:{scrollIntoView:n},props:{width:{type:[String,Number],default:213},value:{type:[String,Number],default:""},visibleInput:{type:Boolean,default:!0},autoQuery:{type:Boolean,default:!1},delay:{type:Number,default:500},placeholder:{type:String}},data(){return{show:!1,itemIndex:-1,textValue:"",title:"",isCode_40_38:!1,scrollHeight:320,isMousemove:!1,hLi:32,isFlag:!0,timer:null,data:[]}},provide(){return{select:this}},mounted(){document.onkeydown=(t=>{this.keyupChange(t)}),document.onclick=(t=>{this.show=!1}),window.addEventListener("resize",t=>{this.throttle(this.setStyle,300,1e3)}),this.setStyle()},methods:{leaveUl(){this.$refs&&this.$refs.scrollInto&&(this.$refs.scrollInto.isShow=0),this.isCode_40_38=!1,this.isMousemove=!1},keyupChange(t){const e=t||window.event;this.data.length&&(40===e.keyCode&&(this.itemIndex===this.data.length-1?this.itemIndex=this.data.length-1:this.itemIndex++,(this.itemIndex+1)*this.hLi-Math.abs(this.$refs.ulbox.offsetTop)>this.scrollHeight&&(this.$refs.ulbox.style.top=-((this.itemIndex+1)*this.hLi-this.scrollHeight)+"px"),this.operationKey(e)),38===e.keyCode&&(this.isFlag=!0,this.isCode_40_38=!0,this.$refs.inputblur.blur(),0===this.itemIndex?this.itemIndex=0:this.itemIndex--,(this.itemIndex+1)*this.hLi-Math.abs(this.$refs.ulbox.offsetTop)<=0&&(this.$refs.ulbox.style.top=-(Math.abs(this.$refs.ulbox.offsetTop)-this.hLi)+"px"),this.operationKey(e)),13===e.keyCode&&-1!==this.itemIndex&&this.isCode_40_38&&this.isFlag&&this.selectLiHandler())},operationKey(t){if(t.preventDefault?t.preventDefault():t.returnValue=!1,this.isFlag=!0,this.isCode_40_38=!0,this.$refs.inputblur.blur(),this.isMousemove&&this.data.length>10){this.$refs.scrollInto.isShow=1;let t=this.scrollHeight-.5*(this.$refs.ulbox.clientHeight-this.scrollHeight),e=this.itemIndex*this.hLi/this.$refs.ulbox.clientHeight,i=t<=0?this.$refs.scrollInto.minHeight:t,s=(this.data.length-1)*this.hLi==this.itemIndex*this.hLi?-(this.scrollHeight-i):-e*(this.scrollHeight-i);this.$refs.scrollInto.el.style.height=i+"px",this.$refs.scrollInto.el.style.top=-s+"px"}},selectLiHandler(){this.$emit("input",this.data[this.itemIndex]["value"]),this.title=this.data[this.itemIndex]["label"],this.textValue="",this.show=!1,this.isCode_40_38=!1},searchBtn(){this.isFlag=!1,this.textValue&&this.autoQuery&&this.reductionEmitVal()},reductionEmitVal(){this.itemIndex=-1,this.data.length&&(this.$refs.ulbox.style.top="0"),this.$emit("getSearchName",this.textValue)},setStyle(){this.$refs.inputbox&&(this.$refs.inputbox.style.top=this.$refs.searchbox.offsetTop+this.hLi+8+"px",this.$refs.inputbox.style.left=this.$refs.searchbox.offsetLeft+"px")},throttle(t,e,i){clearTimeout(t.timer),t._cur=Date.now(),t._start||(t._start=t._cur),t._cur-t._start>i?(t.apply(null,arguments),t._start=t._cur):t.timer=setTimeout(e=>{t.apply(null,arguments)},e)},onOptionDestroy(t){t>-1&&this.data.splice(t,1)}},watch:{textValue(t){t&&!this.autoQuery&&(clearTimeout(this.timer),this.timer=setTimeout(t=>{this.reductionEmitVal()},this.delay)),t||this.reductionEmitVal()}}},l=a;i("c1c2");function c(t,e,i,s,o,r,n,a){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),s&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),n?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(t,e){return l.call(e),h(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}var h=c(l,o,r,!1,null,"36d156e6",null);h.options.__file="ct-select.vue";var u=h.exports;u.install=function(t){t.component(u.name,u)};var d=u,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{class:[{"ct-option-li-active":t.itemSelected},"ct-option-li"],on:{mouseover:t.moveLi,click:t.selectLi}},[t._v("\n    "+t._s(t.label)+"\n")])},f=[],x={name:"ct-option",inject:["select"],props:{value:{required:!0},label:[String,Number]},created(){this.select.data.push(this)},methods:{moveLi(t){this.select.isCode_40_38&&!this.select.isMousemove&&(this.select.isCode_40_38=!1),this.select.isMousemove=!0,this.select.isCode_40_38||(this.select.itemIndex=this.select.data.indexOf(this))},selectLi(){this.select.selectLiHandler()}},computed:{itemSelected(){return this.select.data.indexOf(this)==this.select.itemIndex}},beforeDestroy(){this.select.onOptionDestroy(this.select.data.indexOf(this))}},v=x,b=(i("89fb"),c(v,p,f,!1,null,"1e6d2504",null));b.options.__file="ct-option.vue";var g=b.exports;g.install=function(t){t.component(g.name,g)};var m=g;const w=[d,m],_=function(t){_.installed||w.map(e=>t.component(e.name,e))};"undefined"!==typeof window&&window.Vue&&_(window.Vue);var y={install:_,ctSelect:d,ctOption:m};e["default"]=y}})});
//# sourceMappingURL=v-select-search.umd.min.js.map